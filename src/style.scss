// Copyright (c) 2025 Alaska Airlines. All right reserved. Licensed under the Apache-2.0 license
// See LICENSE in the project root for license information.

// ---------------------------------------------------------------------

// Import Auro tokens
@import './../node_modules/@aurodesignsystem/design-tokens/dist/alaska/SCSSVariables--alaska';
@import './../node_modules/@aurodesignsystem/design-tokens/dist/alaska/SCSSVariablesMapFlat--alaska';

// general WCSS imports
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/breakpoints';
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/core';
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/animation';

@import '../node_modules/swiper/swiper';
@import '../node_modules/swiper/modules/pagination';
@import '../node_modules/swiper/modules/navigation';

:host {
  display: block;
  width: 100%;
}

.container {
  display: flex;
  width: 100%;
  flex-direction: column;
  align-items: flex-start;
}

slot[name="header"] {
  display: block;
  line-height: 44px;
  font-size: 36px;
  font-weight: 300; // font-weight not applying correctly
}

slot[name="subheader"] {
  display: block;
  line-height: 26px;
  font-size: 18px;
  color: var(--ds-color-texticon-muted, #{$ds-color-texticon-muted});
  font-weight: 450; // font-weight not applying correctly
}

.container.has-both-headers slot[name="subheader"] {
  margin-top: 12px;
  margin-bottom: 40px;
}

.container.has-header-only slot[name="header"] {
  margin-bottom: 40px;
}

.container.has-subheader-only slot[name="subheader"] {
  margin-bottom: 40px;
}

.slideshow-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.swiper {
  width: 100%;
  margin-left: 0;
  height: auto;
  max-width: 100%;
}

.swiper-wrapper {
  display: flex;
  height: auto; /* Adjusts height based on images */
}

.play-pause {
  --ds-auro-button-border-color: var(--ds-component-button-primary-border, #{$ds-component-button-primary-border});
  --ds-auro-button-container-color: var(--ds-component-button-primary-background, #{$ds-component-button-primary-background});
  --ds-auro-button-container-image: var(--ds-component-button-primary-background, #{$ds-component-button-primary-background});
}

.pagination-container {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  margin-top: 40px;
}

.swiper-pagination {
  display: flex;
  box-sizing: border-box;
  justify-content: flex-start;
  align-items: center;
  flex-direction: row;
  padding-left: 58px;
  width: unset;

  --swiper-pagination-bottom: none;
}

.swiper-pagination-bullet {
  width: 12px;                
  height: 12px;
  border-radius: 50%;
  background-color: none;      
  position: relative;   
  
  --swiper-pagination-bullet-horizontal-gap: 10px;
  --swiper-pagination-bullet-inactive-color: #CFE0EF; // Token does not exist yet: var(--ds-color-button-primary-background-inactive, $ds-color-button-primary-background-inactive);
  --swiper-pagination-bullet-inactive-opacity: none;

  &:focus, &:focus-visible {
    outline: 2px solid var(--ds-component-focused, #{$ds-component-focused});
    outline-offset: 2px;
  }

  &:hover {
    --swiper-pagination-bullet-inactive-color: #89B2D4; // Color does not exist yet: var(--ds-component-button-primary-background-inactive-hover, #{$ds-component-button-primary-background-inactive-hover});
  }
}

/* Creates 24x24px clickable area for bullet */
.swiper-pagination-bullet::before {
  content: "";
  position: absolute;
  width: 24px;
  height: 24px;              
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background-color: transparent;
}

/* Active bullet with progress bar and border radius */
.swiper-pagination-bullet-active {
  background-color: transparent;  
  width: 52px;
  height: 12px;                     
  position: relative;
  border-radius: 12px;
  overflow: hidden;                
}

/* Progress bar container with border radius */
.pagination-swiper-up__progress-bar-container {
  width: 100%;
  height: 100%;
  overflow: hidden;  
  position: absolute;
  top: 0;
  left: 0;
  background: #CFE0EF; // Token does not exist yet: var(--ds-color-button-primary-background-inactive, $ds-color-button-primary-background-inactive);
  border-radius: 12px;

  &:hover {
    background: #89B2D4; // Token does not exist yet: var(--ds-component-button-primary-background-inactive-hover, #{$ds-component-button-primary-background-inactive-hover});
  }
}

/* Animated progress bar with rounded edges */
.pagination-swiper-up__progress {
  width: 0%;
  height: 100%;
  background: var(--ds-component-button-primary-background, #{$ds-component-button-primary-background});
  border-radius: 12px;
}

:host([variant="slider"]) {
  .slideshow-wrapper {
    // setting side space for sneak peak and prev/next buttons
    width: calc(100% + 64px);
    padding-left: 64px;
    padding-right: 64px;
    margin-left: -64px;
    margin-right: -64px;
  }

  .swiper-pagination{
    display: none;
  }

  .swiper {
    width: calc(100% - 64px);
  }

  .chevron-left,
  .chevron-right {
    position: absolute;
    display: none;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;

    --ds-auro-button-border-color: var(--ds-component-button-primary-border, #{$ds-component-button-primary-border});
    --ds-auro-button-container-color: var(--ds-component-focused, #{$ds-component-focused});
    --ds-auro-button-container-image: var(--ds-component-focused, #{$ds-component-focused});
    opacity: 0.4;

    color: var(--ds-component-background, #{$ds-component-background});
  }

  .chevron-left {
    left: 8px;
  }

  .chevron-right {
    right: calc(64px + 8px);
  }

  .slideshow-wrapper:hover .chevron-left,
  .slideshow-wrapper:hover .chevron-right {
    display: block;
  }

}
