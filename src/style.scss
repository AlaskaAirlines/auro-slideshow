// Copyright (c) 2025 Alaska Airlines. All right reserved. Licensed under the Apache-2.0 license
// See LICENSE in the project root for license information.

// ---------------------------------------------------------------------

// Import Auro tokens
@import './../node_modules/@aurodesignsystem/design-tokens/dist/auro-classic/SCSSVariables';
@import './../node_modules/@aurodesignsystem/design-tokens/dist/alaska/SCSSVariables--alaska';
@import './../node_modules/@aurodesignsystem/design-tokens/dist/alaska/SCSSVariablesMapFlat--alaska';

// general WCSS imports
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/breakpoints';
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/core';
@import './../node_modules/@aurodesignsystem/webcorestylesheets/src/animation';

@import '../node_modules/swiper/swiper';
@import '../node_modules/swiper/modules/pagination';
@import '../node_modules/swiper/modules/navigation';

:host {
  display: block;
  width: 100%;
}

.container {
  display: flex;
  width: 100%;
  flex-direction: column;
  align-items: flex-start;
}

.subheader {
  color: var(--ds-basic-color-texticon-muted, #{$ds-basic-color-texticon-muted});
}

.container.has-both-headers .subheader {
  margin-top: var(--ds-size-150, $ds-size-150);
  margin-bottom: var(--ds-size-500, $ds-size-500);
}

.container.has-header-only .header {
  margin-bottom: var(--ds-size-500, $ds-size-500);
}

.container.has-subheader-only .subheader {
  margin-bottom: var(--ds-size-500, $ds-size-500);
}

.slideshow-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.swiper {
  width: 100%;
  margin-left: 0;
  height: auto;
  max-width: 100%;
}

.swiper-wrapper {
  display: flex;
  height: auto; /* Adjusts height based on images */

  & > * {
    border-radius: var(--ds-size-200, $ds-size-200);
  }
}

.play-pause {
  --ds-auro-button-border-color: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
  --ds-auro-button-container-color: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
  --ds-auro-button-container-image:var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
}

.pagination-container {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  margin-top: 40px;
}

.swiper-pagination {
  display: flex;
  box-sizing: border-box;
  justify-content: flex-start;
  align-items: center;
  flex-direction: row;
  padding-left: var(--ds-size-700, $ds-size-700);;
  width: unset;

  --swiper-pagination-bottom: none;
}

.swiper-pagination-bullet {
  width: var(--ds-size-150, $ds-size-150);
  height: var(--ds-size-150, $ds-size-150);
  border-radius: 50%;
  background-color: none;      
  position: relative;   
  
  --swiper-pagination-bullet-horizontal-gap: var(--ds-size-100, $ds-size-100); // margin for each side
  --swiper-pagination-bullet-inactive-color: var(--ds-advanced-color-button-primary-background-inactive, $ds-advanced-color-button-primary-background-inactive); // Token does not exist yet: var(--ds-color-button-primary-background-inactive, $ds-color-button-primary-background-inactive);
  --swiper-pagination-bullet-inactive-opacity: none;

  &:focus, &:focus-visible {
    outline: 2px solid var(--ds-advanced-color-state-focused, #{$ds-advanced-color-state-focused});
    outline-offset: 2px;
  }

  &:hover {
    --swiper-pagination-bullet-inactive-color: var(--ds-advanced-color-button-primary-background-inactive-hover, $ds-advanced-color-button-primary-background-inactive-hover); // Color does not exist yet: var(--ds-component-button-primary-background-inactive-hover, #{$ds-component-button-primary-background-inactive-hover});
  }
}

/* Creates 24x24px clickable area for bullet */
.swiper-pagination-bullet::before {
  content: "";
  position: absolute;
  width: 24px;
  height: 24px;              
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background-color: transparent;
}

/* Active bullet with progress bar and border radius */
.swiper-pagination-bullet-active {
  background-color: transparent;  
  width: 52px;
  height: var(--ds-size-150, $ds-size-150);                     
  position: relative;
  border-radius: var(--ds-size-150, $ds-size-150);
  overflow: hidden;                
}

/* Progress bar container with border radius */
.pagination-swiper-up__progress-bar-container {
  width: 100%;
  height: 100%;
  overflow: hidden;  
  position: absolute;
  top: 0;
  left: 0;
  background: var(--ds-advanced-color-button-primary-background-inactive, $ds-advanced-color-button-primary-background-inactive); // Token does not exist yet: var(--ds-color-button-primary-background-inactive, $ds-color-button-primary-background-inactive);
  border-radius: var(--ds-size-150, $ds-size-150);

  &:hover {
    background: var(--ds-advanced-color-button-primary-background-inactive-hover, $ds-advanced-color-button-primary-background-inactive-hover); // Token does not exist yet: var(--ds-component-button-primary-background-inactive-hover, #{$ds-component-button-primary-background-inactive-hover});
  }
}

/* Animated progress bar with rounded edges */
.pagination-swiper-up__progress {
  width: 0%;
  height: 100%;
  background: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
  border-radius:  var(--ds-size-150, $ds-size-150);
  transition: width 10ms linear;
}

:host([variant="slideshow"]) {
  .swiper {
    width: calc(100% + var(--ds-size-800, #{$ds-size-800}));
    padding-left: var(--ds-size-800, #{$ds-size-800});
    margin-left: calc(var(--ds-size-800, #{$ds-size-800}) * -1);
  }
}
:host([variant="slider"]) {
  .slideshow-wrapper {
    // setting side space for sneak peak and prev/next buttons
    width: calc(100% + var(--ds-size-800, #{$ds-size-800}));
    padding-left: var(--ds-size-800, #{$ds-size-800});
    padding-right: var(--ds-size-800, #{$ds-size-800});
    margin-left: calc(var(--ds-size-800, #{$ds-size-800}) * -1);
    margin-right: calc(var(--ds-size-800, #{$ds-size-800}) * -1);
  }

  .swiper-pagination{
    display: none;
  }

  .swiper {
    width: calc(100% - var(--ds-size-800, #{$ds-size-800}));
  }

  .chevron-left,
  .chevron-right {
    position: absolute;
    display: none;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    --ds-auro-button-border-color: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
    --ds-auro-button-container-color: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
    --ds-auro-button-container-image: var(--ds-advanced-color-button-primary-border, #{$ds-advanced-color-button-primary-border});
    opacity: 0.4;

    color: var(--ds-advanced-color-button-primary-text, #{$ds-advanced-color-button-primary-text});
  }

  .chevron-left {
    left: var(--ds-size-100, $ds-size-100);;
  }

  .chevron-right {
    right: calc(var(--ds-size-800, #{$ds-size-800}) + var(--ds-size-100, $ds-size-100));
  }

  .slideshow-wrapper:hover .chevron-left,
  .slideshow-wrapper:hover .chevron-right {
    display: block;
  }
}
